(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,t,n){e.exports=n.p+"static/media/logo.06e73328.svg"},function(e,t,n){e.exports=n(16)},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(3),l=n.n(r),i=(n(14),n(4)),c=n.n(i);n(15);var s=function(){var e,t;const[n,r]=Object(a.useState)(0),[l,i]=Object(a.useState)(!1),[s,p]=Object(a.useState)(null);Object(a.useEffect)(()=>{if("undefined"!==typeof window&&window.Telegram&&window.Telegram.WebApp){const t=window.Telegram.WebApp;try{t.ready(),i(!0),setTimeout(()=>{if(t.isExpanded||t.version){var e,n;const a=JSON.stringify({event:"app_loaded",timestamp:(new Date).toISOString(),user_id:(null===(e=t.initDataUnsafe)||void 0===e?void 0:null===(n=e.user)||void 0===n?void 0:n.id)||"unknown"});console.log("Attempting to send data to bot (on load):",a),t.sendData(a)}},1e3)}catch(e){p("WebApp initialization error: ".concat(e.message)),console.error("WebApp error:",e)}}else p("Not running in Telegram WebApp environment"),console.warn("Telegram WebApp not available")},[]);const d=()=>{if("undefined"!==typeof window&&window.Telegram&&window.Telegram.WebApp){var e,t;const a=window.Telegram.WebApp,o={message:"Hello from React Mini App!",timestamp:(new Date).toISOString(),userAction:"button_click",user_id:(null===(e=a.initDataUnsafe)||void 0===e?void 0:null===(t=e.user)||void 0===t?void 0:t.id)||"unknown"};try{const e=JSON.stringify(o);console.log("Attempting to send data from button click:",e),a.sendData(e),a.showAlert("Data sent to bot!")}catch(n){console.error("Error sending data:",n),p("Send error: ".concat(n.message))}}else console.error("Telegram WebApp not available"),p("Telegram WebApp not available")};o.a.useEffect(()=>{if(l&&"undefined"!==typeof window&&window.Telegram&&window.Telegram.WebApp)try{const t=window.Telegram.WebApp;return t.MainButton.setText("Send Data to Bot"),t.MainButton.show(),t.MainButton.onClick(d),()=>{t.MainButton.offClick(d)}}catch(e){console.error("MainButton setup error:",e)}},[l]);const m="undefined"!==typeof window&&window.Telegram&&window.Telegram.WebApp?window.Telegram.WebApp:null;return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:c.a,className:"App-logo",alt:"logo"}),o.a.createElement("p",null,"Hello World! This is a Telegram Mini App."),s&&o.a.createElement("p",{style:{color:"red"}},"Error: ",s),!l&&!s&&o.a.createElement("p",null,"Initializing Telegram WebApp..."),l&&o.a.createElement("p",{style:{color:"green"}},"\u2705 WebApp Ready!"),o.a.createElement("button",{onClick:d},"Send Test Data to Backend"),o.a.createElement("div",null,o.a.createElement("p",null,"Count: ",n),o.a.createElement("button",{onClick:()=>{r(e=>e+1)}},"Increment Count")),m&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Telegram WebApp Version: ",m.version),o.a.createElement("p",null,"Platform: ",m.platform),o.a.createElement("p",null,"User ID: ",(null===(e=m.initDataUnsafe)||void 0===e?void 0:null===(t=e.user)||void 0===t?void 0:t.id)||"Not available")),o.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React")))};var p=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then(t=>{let{getCLS:n,getFID:a,getFCP:o,getLCP:r,getTTFB:l}=t;n(e),a(e),o(e),r(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s,null))),p()}],[[5,1,2]]]);
//# sourceMappingURL=main.2f837dc1.chunk.js.map